<style>
    #quesbtn {
        padding-left: 1%;
        padding-right: 1%;
        border: none;
        border-radius: 10px;
        color: #FFFFFF;
        text-align: center;
        font-weight: bold;
        line-height: 35px;
        margin-left: auto;
    }

    #quesmodal {
        border: none;
        text-align: center;
        margin-left: auto;
    }

    #button a {
        text-decoration: none;
        color: #FFFFFF;
        font-size: 135%;
    }

    ::placeholder {
        color: rgb(102, 89, 89) !important;
    }
</style>
<style>
    .modal {
        display: none;
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
    }
    
    .modal-content {
        background-color: #fefefe;
        margin: 15% auto;
        /* 15% from the top and centered */
        padding: 20px;
        border: 1px solid #888;
        width: min-content;
        /* Could be more or less, depending on screen size */
    }

    /* The Close Button */
    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }
</style>
<div>
    <div>
        <h1 class="text-3xl container mx-auto font-medium text-indigo-500 title-font px-5" style="padding-top: 100px;">
            Doubt
            Solving Forum</h1>
        <section class="text-gray-500 bg-gray-900 body-font">
            <div class="container px-5 mx-auto" style="padding-top: 30px;">
                <div class="flex flex-wrap -m-4">

                    <% data.forEach(item => { %>
                    <div class="p-2" style="width: 100%;">
                        <div id="<%= 'btn'+item.id %>"
                            class="h-full bg-gray-800 px-8 pt-4 pb-15 rounded-lg overflow-hidden text-left">
                            <h1 id="<%= 'ques'+item.id %>"
                                class="title-font sm:text-2xl text-xl font-medium text-white mb-3"> <%= item.title%>
                                <p class="text-gray-500 inline-flex items-right leading-none text-sm"
                                    style="font-style: italic;">- <%= item.email%></p>

                                <a href="#" class="text-white-900 inline-flex items-right leading-none text-sm"
                                    style="float: right; align-items: center; padding-top: 0.8%;">
                                    <svg class="w-4 h-4 mr-1" stroke="currentColor" stroke-width="2" fill="none"
                                        stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                                        <path
                                            d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z">
                                        </path>
                                    </svg>6
                                </a>
                            </h1>
                            
                            <a href="/services/forum/<%= item.id%>" id="<%= 'anslink'+item.id %>"
                                class="text-blue-400 inline-flex items-right text-sm"
                                style="display: none; float: right; align-items: center; padding-top: 0.4%;">More
                                answers?
                                Click here</a>
                        </div>
                    </div>



                    <script>
                        let btn = <%= 'btn' + item.id %>
                            let ans = <%= 'ans' + item.id %>
                                let link = <%= 'anslink' + item.id %>
                                    document.getElementById(btn).onclick = () => {
                                        if (document.getElementById(ans).style.display == "inline-block") {
                                            document.getElementById(ans).style.display = "none"
                                            document.getElementById(link).style.display = "none"
                                        }
                                        else {
                                            document.getElementById(ans).style.display = "inline-block"
                                            document.getElementById(link).style.display = "inline-block"
                                        }
                                    }
                    </script>
                    <% }) %>
                </div>

                <div id="quesbtn">
                    <a href='#' id="addques" style="font-size: 2rem; float: right; padding: 1rem;">+<span id="questxt"
                            style="display: none;">Add a Question</span></a>
                </div>

                <div id="quesmodal" class="modal" style="display: none;">
                    <div class="modal-content" style="background-color: #1A202C;">
                        <span class="close" id="cross" style="float: right;">&times;</span>
                        <div class="form-container">
                            <form action="/services/forum" id="quesform" method="POST">
                                <span class="pad" style="color: floralwhite;">Ask Question here</span><br>
                                <input type="text"
                                    style="border-width: 3px; width: 300px; height: 35px; border-radius: 15px; color: black;"
                                    name="title" placeholder="What is the question?" required><br>
                                <span style="padding-top: 100px;"></span>
                                <button type="submit" id="quessub"
                                    style="color: floralwhite; background-color: #667EEA; border-radius: 5px; width: 80px; height: 30px; float: right;">Ask!</button>
                            </form>
                        </div>
                    </div>
                </div>

                <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
                <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>

                <script>
                    document.getElementById('quesbtn').onclick = function () {
                        document.getElementById('quesmodal').style.display = 'inline-block';
                    }
                    document.getElementById('cross').onclick = function () {
                        document.getElementById('quesmodal').style.display = 'none';
                    }
                </script>

                <script>
                    $(document).ready(function () {
                        $('#quesbtn').draggable();
                    });
                </script>
                <script>
                    $(document).ready(function () {
                        $('#quesmodal').draggable();
                    });
                </script>

            </div>
    </div>
    </section>
</div>

<!-- <% data.forEach(item => { %>
    <script>
            let btn = 'btn'+ item.id
            let ans = 'ans'+ item.id
            let link = 'anslink'+ item.id
            document.getElementById(btn).onclick = () => {
                if(document.getElementById(ans).style.display == "inline-block") {
                    document.getElementById(ans).style.display = "none"
                    document.getElementById(link).style.display = "none"
                }
                else {
                    document.getElementById(ans).style.display = "inline-block"
                    document.getElementById(link).style.display = "inline-block"
                }
            }
    </script>
<% }) %> -->